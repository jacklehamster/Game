{"version":3,"sources":["../../../../lib/jsgif/O/stream.js"],"names":["Stream","data","len","length","pos","read","n","Error","substring","readToEnd","readBytes","s","a","i","push","charCodeAt","readByte","readUnsigned","exports"],"mappings":";;AAAA;AACA,IAAIA,SAAS,SAATA,MAAS,CAASC,IAAT,EAAe;AAC1B,OAAKA,IAAL,GAAYA,IAAZ;AACA,OAAKC,GAAL,GAAW,KAAKD,IAAL,CAAUE,MAArB;AACA,OAAKC,GAAL,GAAW,CAAX;;AAEA,OAAKC,IAAL,GAAY,UAASC,CAAT,EAAY;AACtB,QAAI,KAAKF,GAAL,GAAWE,CAAX,GAAe,KAAKL,IAAL,CAAUE,MAA7B,EACE,MAAM,IAAII,KAAJ,CAAU,uCAAV,CAAN;AACF,WAAO,KAAKN,IAAL,CAAUO,SAAV,CAAoB,KAAKJ,GAAzB,EAA8B,KAAKA,GAAL,IAAYE,CAA1C,CAAP;AACD,GAJD;;AAMA,OAAKG,SAAL,GAAiB,YAAW;AAC1B,WAAO,KAAKJ,IAAL,CAAU,KAAKJ,IAAL,CAAUE,MAAV,GAAmB,KAAKC,GAAlC,CAAP;AACD,GAFD;;AAIA,OAAKM,SAAL,GAAiB,UAASJ,CAAT,EAAY;AAC3B,QAAIK,IAAI,KAAKN,IAAL,CAAUC,CAAV,CAAR;AACA,QAAIM,IAAI,EAAR;AACA,SAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIF,EAAER,MAAtB,EAA8BU,GAA9B,EAAmC;AACjCD,QAAEE,IAAF,CAAOH,EAAEI,UAAF,CAAaF,CAAb,CAAP;AACD;AACD,WAAOD,CAAP;AACD,GAPD;;AASA,OAAKI,QAAL,GAAgB,YAAW;AACzB,WAAO,KAAKN,SAAL,CAAe,CAAf,EAAkB,CAAlB,CAAP;AACD,GAFD;;AAIA,OAAKO,YAAL,GAAoB,YAAW;AAAE;AAC/B,QAAIL,IAAI,KAAKF,SAAL,CAAe,CAAf,CAAR;AACA,WAAO,CAACE,EAAE,CAAF,KAAQ,CAAT,IAAcA,EAAE,CAAF,CAArB;AACD,GAHD;AAID,CAhCD;;AAkCA,IAAI,OAAOM,OAAP,IAAkB,WAAtB,EAAmC;AACjCA,UAAQlB,MAAR,GAAiBA,MAAjB;AACD","file":"stream.js","sourcesContent":["// Stream\nvar Stream = function(data) {\n  this.data = data;\n  this.len = this.data.length;\n  this.pos = 0;\n\n  this.read = function(n) {\n    if (this.pos + n > this.data.length)\n      throw new Error(\"Attempted to read past end of stream.\");\n    return this.data.substring(this.pos, this.pos += n);\n  }\n\n  this.readToEnd = function() {\n    return this.read(this.data.length - this.pos);\n  }\n\n  this.readBytes = function(n) {\n    var s = this.read(n);\n    var a = [];\n    for (var i = 0; i < s.length; i++) {\n      a.push(s.charCodeAt(i));\n    }\n    return a;\n  }\n\n  this.readByte = function() {\n    return this.readBytes(1)[0];\n  }\n\n  this.readUnsigned = function() { // Little-endian.\n    var a = this.readBytes(2);\n    return (a[1] << 8) + a[0];\n  }\n}\n\nif (typeof exports != 'undefined') {\n  exports.Stream = Stream;\n}\n"]}